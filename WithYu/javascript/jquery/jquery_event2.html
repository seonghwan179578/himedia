<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- 바로 아래의 <script> jquery 주소는 jquery_event 파일에서 복붙 -->
    <script src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" crossorigin="anonymous"></script>
    
    <script>

        $(document).ready(function(){

            $('#memo').keyup(function(){ // $() -> 캐스팅
                
                // 글자 수를 추출
                let cnt = $(this).val().length; // val : 문자열 반환
                let remain = 150 - cnt// 남은 글자 수
                
                if(remain < 0) { // 150자까지 남은 글자 수가 0 미만이면 = 글자 수 150자를 다 채웠으면
                    alert('150자 까지 작성이 가능합니다.') // alert 실행
                    let str = $(this).val().substr(0, 150);// 글자 수가 0부터 시작. 150자가 넘게 되면 150자까지 자르기
                    $(this).val(str) // 150자가 넘으면 150자로 잘라서 textarea에 넣음
                    $('#cnt').text('150')
                    return false // 이벤트 종료
                }

                $('#cnt').text(cnt)
                
            })

            $('#allCheck').change(function() {

                // $(this.checked) // this -> body의 input태그
                console.log(this.checked)
                if(this.checked) { // true 면 check 표시, false면 표시x
                    // 전체 checked  true 상태로 변경
                    $('#checkItem').children().prop('checked', true) // chidren -> 아래의 항목 전체 선택
                } else {
                    // 전체 checked false 상태로 변경
                    $('#checkItem').children().prop('checked', false)
                }

            })

        })

    </script>

</head>
<body>
  
    <input type="checkbox" id="allCheck">
    <label for="allCheck">전체동의</label>
    <br>

    <div id="checkItem">
        <input type="checkbox"> a Type <br>
        <input type="checkbox"> b Type <br>
        <input type="checkbox"> c Type <br>
    </div>

    <hr>
    
    <textarea id="memo" cols="50" rows="10"></textarea><br>
    <span id="cnt">0</span>/150


</body>
</html>